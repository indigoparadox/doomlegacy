<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" href="legacy.css" type="text/css"/>
  <meta name="keywords" content="Doom, Legacy, documentation, editing guide"/>
  <meta name="description" content="Doom Legacy Editing Guide"/>
  <title>Doom Legacy Editing Guide</title>
</head>

<body>
<h1><a name="top" id="top">Doom Legacy 1.44 Editing Guide</a></h1>

<div class="floatbox">
<ul>
<li><a href="index.html">Users Guide</a></li>
<li><strong><span class="c8">Map Editing</span></strong></li>
<li><a href="tutorial.htm">Getting Started</a></li>
<li><a href="concept.htm">3d Floors Concept</a></li>
<li><a href="3dfloors.htm">3d Floors Tutorial</a></li>
<li><strong><span class="c8">FraggleScript</span></strong></li>
<li><a href="fsbasic.html">Getting started</a></li>
<li><a href="fsfuncs.html">Reference manual</a></li>
</ul>
</div>

<div class="floatbox">
<ul>
<li><strong><span class="c8">Editing Specs</span></strong></li>
<li><a href="#linedefs">Linedef types</a></li>
<li><a href="#textures">Lumps and Textures</a></li>
<li><a href="#sprites">Sprites and Skins</a></li>
<li><a href="#voodoo">Voodoo dolls</a></li>
<li><a href="#wadcontents">Legacy contents</a></li>
<li><a href="#links">Editing Links</a></li>
<li><a href="boomref.html">Boom Reference</a></li>
</ul>
</div>

<div class="column">
<p>
This is a documentation of the new editing features in Legacy. These
features should be in Doom Legacy version 1.43 and up.
</p>
<p>
Doom Legacy supports most Boom editing features discussed in the
<a href="boomref.html">Boom Reference</a>.
</p>

<p>
These editing documents are also fairly lightweight and straight
forward, if you would like a more comprehensive version, please visit
the <a href="http://legacywiki.net/index.php/Main_Page">Doom Legacy Wiki</a>.
</p>


<h2 id="linedefs">Linedef Types</h2>

<p>
1 to 141 - Original Doom and Doom2 linedef types<br />
142 to 260 - BOOM extension linedef types
</p>

<h3>Colormaps and Water</h3>

<table class="def">
<tr>
<th>LINEDEF type</th>
<th>Effect</th>
</tr>
<tr>
<td>281</td>
<td>
<p>Water &mdash; Boom style</p>
<p>Creates swimmable water in all tagged sectors, with colormap transfer like Boom 242.<br />
  Similar to the Boom 242 deep water type but swimmable (using the
  Legacy swimming code). It operates more like water than 242 does,
  but does not have ripples like types 301 and 304. Unlike type 242,
  this type will not make the actual floor or ceiling into invisible
  barriers.<br/>

  The water is only shown if it is above the target sector's floor;
  otherwise, the regular floor is rendered. When water is rendered,
  the properties for the top of the water "plane" and the bottom, are
  both taken from the control sector's floor.
</p>
<p>The lightlevel of the water is controlled by the target sector's
  lightlevel unless the target sector has been also tagged to a
  "Transfer floor properties" linedef, in which case, the water will
  have the transferred lightlevel.<br/>

  It also uses the sidedef1 upper, lower, and middle textures as
  colormaps in the targeted sector.
</p>
<p><em>* It will also create a low fake ceiling if the control ceiling
    is lower than the target ceiling (this is usually not
    desired).</em></p>
</td>
</tr>
<tr>
<td>282</td>
<td>
<p>Generate Colormaps</p>
<p>This type sets the colormap of all tagged sectors like described below, without changing the floor/ceiling or light values. This is nice for putting colored lighting in many different sectors of different floor/ceiling heights:</p>
<table>
<tr>
<th>Texture</th>
<th>Value</th>
<th>Effect</th>
</tr>
<tr>
<td>upper</td>
<td>#rrggbba</td>
<td>6 hex chars giving the color value in RGB format of the colormap mask, 1 alphanumeric char (a-z) denoting the amount of the colormap mask.</td>
</tr>
<tr>
<td>middle</td>
<td>#abbcc</td>
<td>a = boolean value (0 or 1) denoting if this particular colormap
  should be treated like fog (i.e. equal application of colormap to
  all walls, etc.) bb = numerical value (0-32) of the colormap at
  which the fade begins cc = numerical value (1-33) of the colormap at
  which the destination color will be reached. (not yet supported in
  hardware mode)</td>
</tr>
<tr>
<td>lower</td>
<td>#rrggbb</td>
<td>6 hex chars denoting the color the colormap will fade to. (not yet supported in hardware mode)</td>
</tr>
</table>

<p>
Hex color values can be found via paint program or web editor.<br/>
There are (tons of colors to choose from) but here are some to get you started:
<font color="#FF0000">#FF0000</font> 
<font color="#009900">#009900</font> 
<font color="#0099FF">#0099FF</font> 
<font color="#FFFF00">#FFFF00</font> 
<font color="#6600CC">#6600CC</font> 
<font color="#FF6600">#FF6600</font>
</p>
</td>
</tr>
</table>


<h3>Translucent linedefs</h3>

<table class="def">
<tr>
<th>LINEDEF type</th>
<th>Effect</th>
</tr>
<tr>
<td>283</td>
<td>
<p>Fog sheet</p>
<p>
  Displays a 128 high transparent dark fog texture as the middle
  texture. This can be used to make a better fog effect by patching up
  the "holes" in fog sectors. Because you often will not want this
  effect on both sides of the line, this linedef will only affect
  sides with a middle texture.
</p>
</td>
</tr>
<tr><td class="note" colspan="2">
The old linedef codes for line translucency have been taken by Boom support, so the types have been shifted.
</td></tr>
<tr>
<td>284</td>
<td>Brightens everything behind the line. <em>Turns things kinda green though.</em></td>
</tr>
<tr>
<td>285</td>
<td>
Less brightness with a lot less green.
</td>
</tr>
<tr>
<td>286</td>
<td>Darkens a little with no green tint.</td>
</tr>
<tr>
<td>287</td>
<td>Brightens but with no green tint.</td>
</tr>
<tr>
<td>288</td>
<td>
Selective translucency. <em>Only certain colors are translucent.</em>
</td>
</tr>
</table>


<h3 id="floors">3D floor types</h3>

<table class="def">
<tr>
<th>LINEDEF type</th>
<th>Effect</th>
</tr>
<tr>
<td>281</td>
<td>
<p>Solid 3D floor with shadow</p>
<p>
Creates a solid 3D floor in all tagged sectors.<br />
It creates a floor, as a solid slab with thickness, that can be walked on and under.</p>
</td>
</tr>
<tr>
<td>289</td>
<td>
<p>Solid 3D floor without shadow</p>
<p>
Creates a solid 3D floor in all tagged sectors, same as type 281, but
without changing the lighting under the floor slab. The floor does not
cast a shadow, so the light below the slab is the same as above. It
puts a floor, as a solid slab with thickness, that can be walked on
and under, inside all tagged sectors.
</p>
</td>
</tr>
<tr>
<td>300</td>
<td>
<p>Solid translucent 3D floor</p>
<p>Creates a solid translucent 3D floor in all tagged sectors, same as
  type 281, but translucent, and without changing the lighting under
  the floor slab.<br />
It creates a floor, as a solid slab with thickness, that can be walked on and under. Sidedef1
upper texture: #nnn</p>
<p>nnn = 3 digit number that encodes for the translucent effect alpha. If it is empty then alpha is 127.</p>
</td>
</tr>
<tr>
<td>301</td>
<td>
<p>Translucent 3D water</p>
<p>Creates translucent 3D water in all tagged sectors.<br />
Set the control sector ceiling to the water top level, and the floor to the floor level (or below).<br />
Sidedef1 upper texture: #nnn</p>
<p>nnn = 3 digit number that encodes for the translucent effect alpha. If it is empty then alpha is 127.</p>
</td>
</tr>
<tr>
<td>304</td>
<td>
<p>Opaque water</p>
<p>Creates a 3D fluid, that is not translucent on the surface. Within the fluid it is transparent.<br />
Does not have translucent effect, does not have alpha, so upper texture is normal. The control sector is sidedef1 of the linedef.</p>
</td>
</tr>
<tr>
<td>302</td>
<td>
<p>3D fog</p>
<p>Creates 3D fog (using control sector's colormap) in all tagged
  sectors.<br />
The middle texture is normal, but is not used. Has the same light
  effect as 303, but also tints anything seen through any of the
  edges, top, or bottom, like a translucent. Because the fog effect is
  not present within the fog itself, it helps to add some fog sheet
  linedefs (283).</p>
</td>
</tr>
<tr>
<td>303</td>
<td>
<p>Ceiling light</p>
<p>Creates a 3D light below the control sector's ceiling height, in all tagged sectors.<br />
Does the 3D light and colormap of a 3D floor, without the floor.</p>
</td>
</tr>
<tr>
<td>305</td>
<td>
<p>Double light effect</p>
<p>Creates a 3D light similar to 303, except that the light is only
  affects the area between the control sector ceiling height, and the
  control sector floor height. Does the 3D light and colormap of a 3D
  floor, without the floor. The control sector light and colormap are
  used with-in the control sector floor and ceiling heights.</p>
</td>
</tr>
<tr>
<td>306</td>
<td>
<p>Invisible floor</p>
<p>Creates a 3D invisible floor, or slab in each tagged sector. The
  floor can be walked on, and will stop weapons, but does not affect
  light nor colormaps.</p>
</td>
</tr>
</table>


<h3>FraggleScript Linedef types</h3>

<p>
These are Linedef types that activate/start a script.<br/>
The tag number of the linedef is the script number which it will start.
</p>
<p>
If you would like to know more about FraggleScript, please refer to
<a href="fsbasic.html"> FS getting started</a> and
<a href="fsfuncs.html">FS reference manual</a>.
</p>

<table class="def">
<tr>
<th>LINEDEF type</th>
<th>Effect</th>
</tr>
<tr>
<td>272</td>
<td>Start FS script (tagnumber), WR</td>
</tr>
<tr>
<td>273</td>
<td>Start FS script (tagnumber), WR, 1-sided</td>
</tr>
<tr>
<td>274</td>
<td>Start FS script (tagnumber), W1</td>
</tr>
<tr>
<td>275</td>
<td>Start FS script (tagnumber), W1, 1-sided</td>
</tr>
<tr>
<td>276</td>
<td>Start FS script (tagnumber), SR</td>
</tr>
<tr>
<td>277</td>
<td>Start FS script (tagnumber), S1</td>
</tr>
<tr>
<td>278</td>
<td>Start FS script (tagnumber), GR</td>
</tr>
<tr>
<td>279</td>
<td>Start FS script (tagnumber), G1</td>
</tr>
</table>


<h3>Movement</h3>

<table class="def">
<tr>
<th>LINEDEF type</th>
<th>Effect</th>
</tr>
<tr>
<td>290</td>
<td>Instant lower floor</td>
</tr>
<tr>
<td>291</td>
<td>
Instant raise ceiling
</td>
</tr>
</table>


<h3>New Linedef Flags</h3>

<ul>
<li>Legacy has 2 slightly newer Line Flags.</li>
<li>These flags can usually be found in your map editor by selecting a linedef property.</li>
<li>And then enabling it via Flags check box.</li>
</ul>
<table class="def">
<tr>
<th>Linedef Flag</th>
<th>Effect</th>
</tr>
<tr>
<td>
<p>512 = Passthru</p>
</td>
<td>
<p>This flag when set allows a push or switch linedef trigger to pass the push action thru it to ones within range behind it. - Boom</p>
</td>
</tr>
<tr>
<td>
<p>1024 = Alltrigger</p>
</td>
<td>
<p>This flag, when set, will allow all things to activate a W* line, with the exception of flying blood. :) This includes all generalized types that are W*.</p>
</td>
</tr>
</table>

<h2 id="textures">Lumps and Textures</h2>

<p>
Doom Legacy consists of several new graphic and patch resources as well as
supporting different variations of modifying them, view the following:
</p>

<h3>Doom Color Palette</h3>

<p>As like most games Doom uses it's own unique Color Palette for almost all of the games graphics. But mainly for Textures and Sprites.</p>
<p>
So say if you make a few new textures in your paint program. They will need to be converted to the proper color index for Doom. Otherwise a 32bit color image will look bad, because its index color number wouldn't be the same.
To convert the image in our paint program, we use <a href="res/doom.pal">doom.pal</a>, the Doom color palette. Right click to download.
Heretic also has it's own color palette, for it we use <a href="res/heretic.pal">heretic.pal</a>.
More modern lump editors such as <a href="http://www.doomworld.com/xwe/">XWE</a> will convert your image to the proper color palette automatically, but it's also suggested that the use of your paint program could be better.
</p>
<p>
Legacy 1.44 does not support hi-res textures or sprites.
However, Legacy2.0 does!
Please check the <a href="http://doomlegacy.sourceforge.net/">Doom Legacy Web Site</a> for more info on Legacy 2.0.
</p>

<h3>Colormaps</h3>

<p>
Colormaps are used to create colored area effects.
Such as in sector areas. Or a colored fog for the whole level.
They can be created with a utility called Inkworks.
Inkworks is a DOS based program which allows you to manipulate the color palette and save as .wad format which contain both PLAYPAL and COLORMAP lumps to merge or insert into your wad.
This old way of creating colormaps is somewhat deprecated due to the fact that they only would show up in Software Mode. - Yet, still an option.
</p>
<p>
However for Hardware and Software Modes, they are much easier to create just by using Legacy's Colormap Linetype 282. - and setting a Hex color value in its texture field. When this is done, an actual Colormap lump is not needed.
See <a href="#linedefs">Linedef types</a> for more info.
</p>

<h3>Section Markers Overview:</h3>
<p>Some of the internal resource sections of an IWAD or PWAD contain what we call Section Markers and their corresponding lump types between them. Here's an example:</p>


<table class="def">
<tr>
<td>Marker and Lump type</td>
<td>Sub Marker and Explaination</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>C_START</td>
<td>
C_START
</td>
</tr>
<tr>
<td>Colormap lumps</td>
<td>New Software Colormaps</td>
</tr>
<tr>
<td>C_END</td>
<td>C_END</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>P_START</td>
<td>P - or sub marker PP_START</td>
</tr>
<tr>
<td>Patch lumps</td>
<td>New or Replacment Wall and Sky textures</td>
</tr>
<tr>
<td>P_END</td>
<td>P - or sub marker PP_END</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>F_START</td>
<td>F - or sub marker FF_START</td>
</tr>
<tr>
<td>Flat lumps</td>
<td>New or Replacment Floor and Cieling textures</td>
</tr>
<tr>
<td>F_END</td>
<td>F - or sub marker FF_END</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>S_START</td>
<td>S - or sub marker SS_START</td>
</tr>
<tr>
<td>Sprite lumps</td>
<td>Replacment Thing or Item Sprites</td>
</tr>
<tr>
<td>S_END</td>
<td>S - or sub marker SS_END</td>
</tr>
</table>

<ul>
<li>These paticular Lump types need to have Section Markers.</li>
<li>Although, not all lump types need section markers, for example, graphics, sound, and music do not. Or if defined by a script.
More about Section Markers and the Lumps that go between them will be found below, but we also encourage you to view your IWAD contents for more info.
</li>
</ul>

<h3>Wall textures</h3>
<h4>P_START and P_END markers:</h4>
<p>Legacy honors the section markers P_START and P_END when introduced as new Patch textures. As well as PP, P1, P2, and P3, just like Doom.</p>

<ul>
<li>
After adding your section markers, load your texture images between them.
</li>
<li>
When a new wall texture is added, it's name and number will also need to be added to the PNAMES lump, and it's scale, name and off-sets added to the TEXTURE1 lump. If the lump editor doesn't do this automatically, you will have to manually. - (in Xwe, right click the texture image, select 'add to Patch Names' and then again select 'add to Texture').
</li>
</ul>

<p>
(The quickest way is automatically. The way to do this is by selecting
the Patches Tab, and then loading new texture images. Entry&gt;Load.)
From that point Xwe should automatically add the P_START and P_END
markers, as well as the PNAMES and TEXTURE1 lumps) required for the
new patch textures.
The engine then takes the texture name, number, and scale, and puts them where they are assigned to by the map, in game.
</p>

<p>It's a general rule of mine to create NEW patch textures rather than replacing an exsiting one, or creating NEW patch textures with a New Name rather than replacing an existing one.</p>

<p>Standard wall texture sizes: 64x128, 128x128, 256x128.<br/>
However as of 1.41x, hardware video mode in Doom Legacy
supports x2 large flats and wall textures
</p>

<h3>Sky textures</h3>

<p>
The original sky texture size in Doom is 256x128, however
Legacy also supports sky graphics the size of 256x240.
This is because of freelook : you are able to look
higher, thus seeing a part of the sky you couldn't see
in the original Doom. - A taller sky texture was needed.
</p>

<p>
RSKY1 - Replacement Sky1 patch name
RSKY2 - Replacement Sky2 patch name
RSKY3 - Replacement Sky3 patch name
</p>


Using a taller graphic is better than scaling up the
original skies, it looks better. However for compatibility,
Legacy scales up the SKY textures if it finds that they
are the 'old' small size 256x128.
There is a small utility called <a href="res/lumpy.zip">LUMPY</a> provided in this
archive to create patches for the sky. Other editing
utilities can be used to add the new sky patch to your
wad, XWE for example, see <a href="#links">Editing Links</a>.


<em>To convert the sky with LUMPY:</em>
<em>LUMPY image_name.pcx -width 256 -height 240</em>

<p>To add the sky to your wad with XWE:<br/>
Open Xwe, select the Patches Tab at the bottom. Select:
  Entry&gt;Load. Load your image.</p>



<h3>Flat textures</h3>


<p>FLATS in a pwad _ARE_ supported by the 'addfile' console command (loading a pwad file in the game world). This is useful for testing purposes.</p>

<h4>F_ and FF_ Markers</h4>
<p>Flats in a pwad already worked with the original Doom, you had
to put a 'F_END' after the last flat. However, it wasted
memory because the engine took all resources from the F_START
of the original game wad, up to the F_END in your pwad, as
flats.</p>

<p>Legacy honors the section markers F_START and F_END.
FF_START and FF_END are also honored. Flats are expected to
be within these markers and these flat areas will be searched first.
Separate flat sections within pwad files are supported, and they
add flats to those found in the iwad.</p>

<p>
If a flat name is not found within the flat markers then Legacy
will search the entire iwad and pwad for the flat.
</p>
<p>
Most ports and vanilla Doom engines expect F_START and F_END,
so put them in. It makes your wad compatible with other ports, and speeds
up the name search in Legacy.
</p>

<ul>
<li>
Unlike patch textures, Flats don't need a pname or texture lump.
</li>
<li>
Just slap them in your pwad between the section markers F_START and F_END and your done..
</li>
</ul>

<em>The standard Flat / floor and ceiling texture scale in Doom is: 64x64.</em>
However as of 1.41x, hardware video mode in Doom Legacy
supports x2 large flats and wall textures.
More about x2 flats and wall textures
can be found on the <a href="http://legacywiki.net/index.php/Large_flats_and_textures">Doom Legacy Wiki</a>.
<p>Legacy texture flat loading supports any number of new flats (using new names), and it only animates (loads) those animated flats that are used in a level. YES, this is a feature, because soon you will be able to define as many animated flat sequences as you will.</p>



<h3 id="animated">Animated textures:</h3>
<p>
Swantbl can be used to create new animations.
Now you're probably wondering, what the heck is Swantbl?
</p>
<p><a href="res/swantbls.zip">Swantbl</a> is a utility that creates SWITCHES and ANIMATED lumps to put in your wad, used by BOOM and of course Doom Legacy. First you will need 2-4 image framesets for your animation - depending wheater its a flat, a wall, or a switch..They will need to be (named) and in your wad. And then, by editing the DEFSWANI.dat you add new image frame (names) from Last to First. Then compile it with Swantbl, which then outputs the 2 animation lumps to put in your wad. More info can be found on the <a href="http://legacywiki.net/index.php/ANIMATED_and_SWITCHES">Wiki</a> about animated textures. And of course the DEFSWANI.dat.</p>


<h2 id="sprites">Sprites and Skins</h2>


<h3 >Using SPRITES in a pwad</h3>


<p>S_START and S_END markers</p>
<p>SPRITES in a pwad _ARE_ supported by the 'addfile' console command (loading a pwad file in the game world). This is useful for testing purposes.</p>

It is not needed anymore to append the missing sprites in a pwad (using your faithful lump editor).
&gt;&gt; You need only 'S_END' (or SS_END) added after the last sprite in your pwad.
&gt;&gt; S_START (or SS_START) is not obligatory, but is advised : to clearly separate sprites from skin sprites, and other sections that might redefine the same sprite, but for other uses.
It's good practice to place S_START and S_END in a pwad though when adding new sprite graphics.

<p>All sprite resources found in a pwad, will replace those loaded before, just like with any other resources. Thus, sprites in a pwad replaces the original sprites of Doom, Doom2 etc; since the original game wad is always the first one.</p>

&gt;&gt; If you put S_END, but not S_START, sprites will be searched from the beginning of the pwad, up to the S_END.
We could get rid of S_END, but the loading of sprites would be less efficient.

<p>!&gt; Another reason for section markers (S_START, S_END) : sprite resources are recognized by their first 4 letters. For example player sprites start with 'PLAY'. Suppose you replace the 'PLAYPAL' resource in a pwad, and use sprites in it, if you don't put the S_START, and 'PLAYPAL' is BEFORE the sprites, it will be taken as a sprite since it starts with 'PLAY'.<br />
Solution: always put S_START/S_END, or put 'PLAYPAL' resource AFTER S_END.</p>
<p>This is a reason why section markers are still useful.</p>
<p>&gt;&gt; Even better: you can replace only some frames of a sprite in a pwad: example is replacing PUNGA0, but not PUNGB0, ..this DOES NOT work using sprite renaming with dehacked. So I really encourage you to use sprites in a pwad directly instead of dehacked sprite renaming. This is useful for the rocket for example, where you want to replace only the missile or only the explosion.</p>



<h2>Creating Skins</h2>

<p>
Written by: Denis Fabrice

If you have problems creating Skins wads for Doom Legacy,<br />
and can't find the answer to your questions in this documentation
e-mail: see the doomlegacy project at sourceforge.net
</p>

<h3>Create Skins for Doom Legacy.</h3>
<h3>OVERVIEW:</h3>
<p>S_SKIN:<br />
-------<br />
Each skin in a pwad is identified by a 'skin marker': this is<br />
a resource by the name 'S_SKIN'. The resource contains data in<br />
the form of a text file, which describes what is replaced by<br />
the skin, and gives the name of the skin.</p>
<p>Skin sprites:<br />
-------------<br />
A skin is basically a sprite replacement for the player avatar.<br />
ALL the frames of the player sprite must be replaced : this<br />
includes the normal run, attack, hurt sequences, as well as the<br />
'normal' death, and the 'explode' death sequences.</p>
<p>Skin face:<br />
----------<br />
Though the status bar face is viewable only by the player who<br />
uses the skin, it may be replaced in order to be consistent<br />
with the player character appearance. As soon as we ran some<br />
tests with a 'Leprechaun' skin, and saw the marine's head in<br />
the status bar.. we added support for replacing the status bar<br />
face. Like the sprites, _ALL_ the face graphics need to be<br />
replaced, if some are not defined, the game will quit.</p>
<p>Skin sounds:<br />
------------<br />
To make it more fun, a skin can have a set of up to 10 sounds<br />
replaced, these are called the 'skin sounds'. Skin sounds are<br />
replacements of a set of the original Doom sounds, which are<br />
given out only by the skin that defines them. All the sounds<br />
need not be replaced.</p>
<hr />
Getting Started:

<h4><br />
S_SKIN resource format:<br />
-----------------------</h4>
<p>The content of S_SKIN is just a simple ASCII text file.</p>
<p>If you put more than one skin into a wad file, there are effectively<br />
multiple resources of the same 'S_SKIN' name. If this is a problem<br />
you can add any characters after the 'S_SKIN' letters, so that<br />
your wad editor doesn't complain. Example: S_SKIN1, S_SKIN2, ...<br />
Legacy will search only for the first 6 letters.</p>
<h4>Format of the text file:</h4>
<p>// comments start with '//'</p>

name = &lt;- give the name of your skin max 16 chars<br />
NO SPACES!
sprite = XXXX &lt;- identify the sprites to use for this skin<br />
4 characters, optional.
face = XXX &lt;- identify the status bar face graphics to<br />
use for this skin. MUST be 3 characters

<h3><br />
EXAMPLE</h3>

An example is better than 1000 words, so here we go.
Here's a sample of a text file that you could have in the 'S_SKIN' resource:

<p>// Terminator skin by xxx mail me yyy@myhouse.com</p>


<table>
<tr>
<td>name</td>
<td>= terminator</td>
</tr>
<tr>
<td>sprite</td>
<td>= TERM</td>
</tr>
<tr>
<td>face</td>
<td>= TER</td>
</tr>
<tr>
<td>dsouch</td>
<td>= dstmouch</td>
</tr>
<tr>
<td>dsplpain</td>
<td>= dstmpain</td>
</tr>
<tr>
<td>dsslop</td>
<td>= dstmexpl</td>
</tr>
</table>
<p>Let's study each line one by one:</p>
<table>
<tr>
<th>
// Terminator skin by xxx mail me yyy@myhouse.com
</th>
</tr>
</table>
<p>This is just a comment line. Comments start with '//'.<br />
Use comments to put author information. The comments<br />
are not displayed anywhere into the game, but they may<br />
be useful if someone hacks your wad, he/she'll know<br />
where it comes from and who did it.</p>


<table>
<tr>
<th>name = terminator</th>
</tr>
</table>

This tells that the skin name is 'terminator'.
The skin name is displayed in the multiplayer-&gt;setup menu.
It is used by the 'skin' command, in the console. You would<br />
type 'skin terminator' at the console to change the skin<br />
manually, of course it's easier to use the multiplayer menu.
The skin name must be UNIQUE : if there are two skins in<br />
a wad with the same name, however different the graphics maybe,
only the first skin will be used.

<p>The skin name is also displayed in the TEAMPLAY Rankings,<br />
when using 'teamskins'. Since each team is identified by<br />
a skin in 'teamskin' mode, the rankings would show like this:</p>
<p>107 LEPRECHAUNS TEAM<br />
98 TERMINATOR TEAM</p>
<p>As you see, the name of the skin is used as the name of the<br />
team.</p>
<p>If you don't specify the name of the skin, it receives a<br />
name like 'SKIN 1', 'SKIN 2', etc.. not fun.</p>
<p>*The name can't have spaces in it... for example<br />
a name like 'blues brothers' will make Legacy quit with<br />
a message like "unknown 'brothers' keyword". We should fix<br />
that later.</p>
<table>
<tr>
<th>sprite = TERM</th>
</tr>
</table>
<p>Tells the name of the sprite to use for the skin. Sprites in<br />
Doom use only 4 letters, the original player graphics sprite<br />
is 'PLAY'. The line above tells Legacy to look for TERMA1<br />
instead of PLAYA1, TERMA2A8 instead of PLAYA2A8 etc...</p>
<p>It is not needed to rename the player sprites like this.<br />
It is usually much more easy to put all the sprites _JUST AFTER_<br />
the S_SKIN resource. Example:</p>
<p>S_SKIN<br />
TERMA1<br />
TERMA2A8<br />
TERMA3A7<br />
TERMA4A6</p>
<p>etc...</p>
<p>Note that if you put the sprites just after S_SKIN, the sprite<br />
name doesn't matter, Legacy looks for the first sprite name,<br />
and continues to collect all the frames with the same sprite<br />
name, until the name has changed, or the end of the wadfile.</p>

You will want to rename the skin sprites only if your wad<br />
editor requests that all resources have a _unique_ name.


<p>Since you can use any name for the sprites, even without<br />
using the 'sprite = xxxx' statement, you will probably need<br />
this only if you really can't get the sprites ordered just<br />
after the S_SKIN resource.</p>
<p>Note: _ALL_ the frames of the player sprites must be replaced.</p>
<table>
<tr>
<th>face = TER</th>
</tr>
</table>

All the status bar face graphics resources in Doom wad have<br />
the name start with 'STF' : STFST01, STFGOD0, STFDEAD, etc...
This line simply tells _3 LETTERS_ to use in place of 'STF'.
So in this example Legacy will look for 'TERGOD0' instead of<br />
'STFGOD0', 'TERST01' instead of 'STFST01', etc...
Attention : the STPB0-STPB3 resources are not used anymore.
The STFB1,STFB2,STFB3 resources of the original<br />
Doom are not used anymore.. Doom Legacy only uses<br />
STFB0, and remaps the green color to the color<br />
of the player, as like it does for sprites.
Note 1: contrary to the sprites renaming, you MUST use this<br />
line in order to change the status bar face graphics.

<p>Note 2: remember you must replace _ALL_ of the status bar face<br />
graphics, that is: provide a replacement for all<br />
the resources that start with 'STF'.</p>


<table>
<tr>
<th>
dsouch = dstmouch<br />
dsplpain = dstmpain<br />
dsslop = dstmexpl
              
</th>
</tr>
</table>
<p>These lines tell Legacy to use new sounds for this skin in particular,<br />
in place of the game's original sounds.</p>
<table>
<tr>
<th>
<p>Original Sound Name</p>
</th>
<th>New Sound Name</th>
<th>
<p>Up to 10 sounds can be replaced The sounds are related to the<br />
player actions:</p>
</th>
</tr>
<tr>
<td>dsouch</td>
<td>= dsXXXXXX</td>
<td>&lt;- The new sound name MUST start with letters 'DS'</td>
</tr>
<tr>
<td>dsplpain</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dspdiehi</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dsoof</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dsslop</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dspunch</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dsradio</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dspldeth</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dsjump</td>
<td>=</td>
<td></td>
</tr>
<tr>
<td>dsouch</td>
<td>=</td>
<td></td>
</tr>
</table>


Any of the 10 sounds can be replaced, or all.
The sounds that are not replaced will sound just like the original.

<p>For each sound to replace with a new one of course, use: =</p>


<p>Note: the replacement sound doesn't have to be a new sound, you can<br />
use any sound from the game. For example, if you create an<br />
imp skin, you could replace the player sounds with the imp<br />
sounds.</p>
<hr />
TECHNICAL BLURB
<h4>*Skins and sprites in the same pwad</h4>
<p><br />
If you have a wad with skins _AND_ other sprite replacements,<br />
make sure you use S_START, S_END sprite section markers so<br />
that the skin sprites are not replacing the default player<br />
sprites, in case you use 'PLAY' for the skin sprites. If the<br />
PLAYxxxx skin sprites are _outside_ of the sprite section<br />
markers, they will not be mistaken as the default player<br />
sprites.</p>
<h4><br />
*Same resource name on different pwads</h4>

<br />
To make it clear : Legacy will add skins _WAD PER WAD_. Which<br />
means it doesn't bother at all if there are resources with the<br />
same name in different pwads.In fact, Legacy doesn't even bother if you put several markers<br />
with the same name in a pwad (multiple 'S_SKIN' for example).
We added support for 'S_SKINxx' where xx can be any character,<br />
just because some wad utilities don't like multiple resources<br />
of the same name.

<p>You could for example use the same sprite name for several<br />
skins into _one_ pwad, since they are delimited by skin<br />
markers (S_SKIN).</p>



<h2 id="voodoo">Voodoo dolls</h2>

<p>Now in version 1.44 and up.</p>

<p>Create Voodoo Dolls for extra player1 start positions.<br />
This is necessary for many wads, which use the voodoo dolls for timers<br />
and action activators.</p>
<p>Simply place an (extra player 1 start) in your map.</p>
<p>The trick is using it in an area where the player or item can be pushed, pulled or teleported into effected areas.</p>
<p>For example, the appearance of the player will alert monsters, which is useful for teleporting monsters in front of your real player, without the old way (creating a small tunnel) or without any scripts. So, if you put the voodoo doll in a small room with a monster on the other side of a door, when the door opens, the monster walks forward, which then could be teleported in front of your (real) player start location.</p>
<p>This is only 1 example of the many different things that could be done with Voodoo dolls. Another example would be receiving health by means of conveyor or scrolling floor.</p>
<p>Even though similar effects can be done using Fraggle Script and <a href="fsfuncs.html#map_inter">spawning items</a>. The difference is, Voodoo dolls don't require a script and can be implemented via map creation. This makes it easier when you already plan on doing loads of work to your map.</p>


<h2 id="wadcontents">Legacy.wad contents</h2>



<table class="def">
<tr><th>lump</th><th>contents</th></tr>

<tr><td class="note" colspan="2">
Text lumps
</td></tr>
<tr><td><a href="../resources/VERSION.txt">VERSION</a></td>
<td>
Legacy.wad version string
</td></tr>
<tr><td><a href="../resources/FS_things.h">THINGS.H</a></td>
<td>
<a href="fsbasic.html">FraggleScript</a> header file containing THING names
and flags.<br/>
Add include("things.h"); in your script heading to use it.<br/>
See also FS Things.h on the <a href="http://legacywiki.net/index.php/FS_Things.h">Wiki</a>.
</td></tr>
<tr><td><a href="../resources/ENDOOM.lmp">ENDOOM</a></td>
<td>
End text
</td></tr>

<tr><td class="note" colspan="2">
<a href="#fadetable">Fadetables</a> and <a href="#transmap">translucency maps</a>
</td></tr>

<tr><td>WATERMAP</td>
<td>
Boom bluish underwater lightmap/fadetable.
</td></tr>

<tr><td>
TRANSMED
TRANSMOR
TRANSHI
TRANSFIR
TRANSFX1
</td>
<td>
<a name="legacy_transmaps">Maps</a> for default software translucency.
</td></tr>



<tr><td class="note" colspan="2">
Sounds
</td></tr>

<tr><td>DSOUCH</td><td>Player hits the ground or a wall.</td></tr>
<tr><td>DSJUMP</td><td>Player jump.</td></tr>
<tr><td>DSFLOUSH</td><td>Walking through water.</td></tr>
<tr><td>DSGLOOP</td><td>Landing or jumping in water.</td></tr>
<tr><td>DSSPLASH</td><td>Splash, or getting out of water.</td></tr>

<tr><td class="note" colspan="2">
Sprites
</td></tr>

<tr><td>BLUD[ab]0</td>
<td>
Random projectile blood
</td></tr>

<tr><td>SMOK[a-e]0</td>
<td>
Smoke
</td></tr>

<tr><td>SPLA[a-c]0</td>
<td>
Water splash?
</td></tr>

<tr><td>TNT1A0</td>
<td>
?
</td></tr>

<tr><td class="note" colspan="2">
Other graphics
</td></tr>

<tr><td>CORONA</td>
<td>
Corona luminosity map
</td></tr>

<tr><td>CREDIT</td>
<td>
Credits page
</td></tr>

<tr><td>CROSHAI[1-3]</td>
<td>
HUD crosshairs
</td></tr>

<tr><td>RANKINGS</td>
<td>
Deathmatch rankings graphic (while in a net-game).
</td></tr>

<tr><td>
BRDR_MM
BRDR_MT
</td>
<td>
window border patches?
</td></tr>

<tr><td>A_DMG[1-3]</td>
<td>
Wall blood splat patches
</td></tr>


<tr><td>WATER[0-7]</td>
<td>
"Old water" flats.
Legacy uses 8 animated 
water flat textures, instead of the original 4.
</td></tr>


<tr><td>RSKY[1-3]</td>
<td>
The sky graphics are now 256x240, not 256x128.
That's because of the freelook : you are able to look
higher, thus seeing a part of the sky you couldn't see
in the original Doom.

Using a taller graphic is better than scaling up the
original skies, it looks better. However for compatibility,
Legacy scales up the SKY textures if it finds that they
are the 'old' small size 256x128.

The bottom 40 lines are under the horizon and not
normally seen. The lines 100 to 199 are the ones
you see while looking straight ahead. The top lines
0-99 are the lines of sky you see when looking up.
</td></tr>


<tr><td class="note" colspan="2">
Menu graphics
</td></tr>
<tr><td>M_SINGLE</td><td>single-player</td></tr>
<tr><td>M_MULTI</td><td>multi-player</td></tr>
<tr><td>M_SETUPM</td><td>multi-player setup</td></tr>
<tr><td>M_SETUPA</td><td>player1 multi-player setup</td></tr>
<tr><td>M_SETUPB</td><td>player2 multi-player setup</td></tr>
<tr><td>M_2PLAYR</td><td>split-screen multi-player setup</td></tr>
<tr><td>M_STSERV</td><td>start-server multi-player setup</td></tr>
<tr><td>M_CONNEC</td><td>connect-server multi-player setup</td></tr>

<tr><td>
M_CONTROL
M_CDVOL
M_VIDEO
M_SLIDEL
M_SLIDER
M_SLIDEC
</td>
<td>
more menu patches
</td></tr>


<tr><td class="note" colspan="2">
<p>Additional Pic_t graphics</p>

You can also use Lumpy to create pic_t resources, see <a href="res/lumpy.txt">lumpy.txt</a> for more<br />
about using lumpy. - Update, you should also be able to use <a href="http://www.sbsoftware.com/">Deepsea</a> for pic_t.
pic_t graphics are used for the following in Doom Legacy.

</td></tr>

<tr><td>CONSBACK</td>
<td>
Console background picture, 320x200, when 'con_backpic' is true (the console
variable) also used as the loading picture MUST BE 200 lines high, can
be any width (default is 320)
</td></tr>

<tr><td>CBLEFT</td>
<td>
Console left border, used with translucent console
background MUST BE 200 lines high, any width (default is 8)
</td></tr>

<tr><td>CBRIGHT</td>
<td>
Console rigth border, used with translucent console background MUST BE 200 lines high, any width (default is 8)
</td></tr>

<tr><td class="note" colspan="2">
Status bar overlay icons
</td></tr>

<tr><td>SBOHEALT</td><td>health (default shows a red cross)</td></tr>
<tr><td>SBOFRAGS</td><td>frags (default shows a skull)</td></tr>
<tr><td>SBOARMOR</td><td>armor (default shows a green armor)</td></tr>
<tr>
<td>SBOAMMO1</td><td>pistol ammo</td>
</tr>
<tr>
<td>SBOAMMO2</td><td>shotgun ammo</td>
</tr>
<tr>
<td>SBOAMMO3</td><td>chaingun ammo</td>
</tr>
<tr>
<td>SBOAMMO4</td><td>rocket ammo</td>
</tr>
<tr>
<td>SBOAMMO5</td><td>plasma ammo</td>
</tr>
<tr>
<td>SBOAMMO6</td><td>BFG ammo</td>
</tr>
<tr>
<td>SBOAMMO8</td><td>super shotgun ammo</td>
</tr>
</table>


<h2 id="links">Editing Links:</h2>

<p>Older common wad utility's are 'WinTex' version 4.3, by Olivier Montanuy.<br />
And NWT 'New Wad Tools' version 1.3, by Denis Miller.<br />
Both programs will allow you to insert new raw data resources into wads.</p>
<p>Newer more modern graphic/sound Doom Lump editors known as XWE and SlumpED will also work for almost all lump editing variations covered in this documentary.</p>

<h4>Windows Map editing utilities:</h4>

<ul>
<li>
<a href="http://www.doombuilder.com/">Doom Builder</a>
</li>
<li>
<a href="http://slade.mancubus.net/">SLADE</a>
</li>
<li>
<a href="http://www.doomworld.com/idgames/?id=11183">Wad Author</a>
</li>
<li><a href="http://www.sbsoftware.com/">Deepsea</a></li>
</ul>

<h4>Windows Lump editing utilities:</h4>

<ul>
<li class="c10">
<a href="http://www.doomworld.com/xwe/">XWE</a>
</li>
<li>
<a href="http://slumped.mancubus.net/index.php?page=news">SlumpED</a>
</li>
<li>
<a href="res/wintex_setup.exe">Wintex4.3</a> - with required runtime files
</li>
</ul>

<h4>Linux/Unix Map and Lump editing utilities:</h4>

<ul>
<li>
<a href="http://www.teaser.fr/%7Eamajorel/yadex/">Yadex</a>
</li>
<li>
<a href="http://w3.teaser.fr/%7Eamajorel/deutex/">DeuTex</a>
</li>
</ul>

<h4>MacOS Map editing utilities:</h4>

<ul>
<li>
<a href="http://www.teamhellspawn.com/utils/hellmaker12b2.hqx">Hellmaker1.2b2</a>
</li>
</ul>


<p>Node Builders:</p>

<ul>
<li>
<a href="http://www.mrousseau.org/programs/ZenNode/">Zennode</a> - Best for Legacy Opengl node building.
</li>
<li>
<a href="http://glbsp.sourceforge.net/">BSP</a> - Most stable up to date node builder that we know.
</li>
</ul>

<p>If you have questions regarding the WAD tools in particular, please
consult the Doom editing newsgroups, or ask questions on the Doom
Legacy forum (go to <a href="http://doomlegacy.sourceforge.net">http://doomlegacy.sourceforge.net</a> and look for the forum link.)</p>

<p>And above all, please check
  the <a href="http://legacywiki.net/index.php/Main_Page">Doom Legacy Wiki</a>
  with any other questions regarding Doom Legacy editing!
</p>
<p>
Have fun!
</p>

</div>
</body>
</html>
