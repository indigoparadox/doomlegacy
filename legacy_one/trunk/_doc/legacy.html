<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link rel="stylesheet" href="legacy.css" type="text/css"/>
  <meta name="keywords" content="Doom, Legacy, documentation, manual, docs"/>
  <meta name="description" content="Doom Legacy is your premiere source port engine for id Software's classic DOOM games and more!"/>
  <title>Doom Legacy User Reference Manual</title>
</head>

<body>
<div class="column">
<h1>Doom Legacy 1.44 User Reference Manual</h1>


<div class="floatbox">
<ol>
  <li><a href="#intro">Introduction</a></li>
  <li><a href="#install">Install</a></li>
  <li><a href="#gameplay">Basic gameplay</a></li>
  <li><a href="#console">Console</a></li>
  <li><a href="#network">Network games</a></li>
  <li><a href="#cmdline">Commandline options</a></li>
  <li><a href="#notes">Notes</a></li>
</ol>
</div>

<h2 id="intro">INTRODUCTION</h2>
<p>  
  Hello all Doom fans of the world, welcome to the latest release of
  Doom Legacy!
</p>
<p>
  Since Doom was out we have been fans of deathmatching. Don't ask us
  why, but we liked Doom more than Duke Nukem, Quake or other clones.
  We simply enjoy the atmosphere, look and feel of Doom.
  We always dreamed of Doom sources being released. How many days we
  spent talking about the features we'd put in it!
  In the middle of 1997 we heard a rumour that the Doom sources
  would be released. Some months later the miracle happened: In
  December 1997, id Software made the full source code of Doom public.
  A great number of open source projects have started around the sources
  since, and Doom Legacy is competing to be the best of the choices!
</p>
<p>
  Doom Legacy can play Doom, Boom, and Heretic maps.
  In addition to the original games by id Software and Raven Software,
  there are hundreds of free, fan-made maps available on the Internet.
  These maps are typically distributed as PWAD files, which are not
  fully self-contained.
  For each game you will also need the corresponding IWAD data file,
  which contains all the graphics,
  sounds and music in the game. For example, if you want to play Doom II
  maps, you'll need the file "doom2.wad".
  Doom Legacy itself is free software, meaning that you can copy and
  distribute it without charge.
  The original Doom and Heretic IWAD files
  (doom.wad from Doom, doomu.wad from Ultimate Doom,
  doom2.wad from Doom2, tnt.wad or plutonia.wad from Final Doom,
  heretic.wad from Heretic), which are still
  copyrighted products and available commercially.
</p>
<p>
  There are also some free replacement IWADs which can be used instead.
  <a href="http://www.nongnu.org/freedoom/">FreeDoom</a> (doom2.wad or freedoom.wad) is a free substitute for Doom2.
  <a href="http://www.jeshimoth.com/jutegyte/blasphemer/">Blasphemer</a>
  (heretic.wad) is a free substitute for Heretic, but it does
  not have monsters yet (it needs volunteers to work on it!).
  The Legacy engine will recognize and play Chexquest (chex.wad),
  Chexquest2, and Chexquest-Newmaps (newmaps.wad), but not Chexquest3.
</p>
<p>
  In addition to the now
  fundamental <a href="http://doom.wikia.com/wiki/Boom">Boom</a>
  extensions, Legacy also has implemented among other things
  3D floors, swimmable water and other special effects using extended
  linedef codes, and supports the FraggleScript scripting language.
</p>
<p>
  To get started with Legacy, we recommend the following PWADs:
</p>
<ul>
  <li>
    The new editing features are demonstrated in
    Legacy_3ddemo.wad and rainbowstar.wad
  </li>
  <li>
    Wads that use Legacy 3D floors:
    3DHorror.wad, phobia.wad, hth2.wad
  </li>
  <li>
    Deathmatch wads:
    andydm1.wad, shbullet.wad
  </li>
  <li>
    Chexquest sequel:
    Chexquest-newmaps.wad
  </li>
</ul>
<p>
  We hope that this new version brings you a lot of enjoyment.
  Have much fun!!
</p>
<p>-The Doom Legacy Team</p>

<h3>What's new</h3>
<p>
  See <a href="whatsnew.html">here</a> for the latest changes.
</p>

<h3>What's coming</h3>
<p>  
  We have planned other features. See our <a href="http://doomlegacy.sourceforge.net">website</a>.
</p>

  
<h2 id="install">INSTALL</h2>

<p>
  Installing Doom Legacy is simple, just follow these steps:
  
</p>
<h3>Linux</h3>
  Choose a legacy game directory that all players can use, like /usr/local/games/legacy.
  Install the tar file contents to the legacy game directory, which needs to include the
  doomlegacy binary, legacy.wad, autoexec.cfg.  The tar file will also install the legacy docs there.
  You can also put there any wad files you want to play.
<p>
  The iwad files can be in a separate directory (such as /usr/local/games/legacy/wads).
  You can set DOOMWADDIR with that wad directory path, in a login script, or a game starting script.
  If DOOMWADDIR is not set, then DoomLegacy will look for the directories:
  "/usr/local/share/games/doomwads" and "/usr/local/games/doomwads".
<p>
  Otherwise, for known game wads (Doom, Doom2, TNT, etc) in other directories, make soft links in the legacy game directory
  to the actual wad files, so that when a -game switch is used, DoomLegacy can find the iwad.
<br>
<pre>
  > ln -s wads/idgames/doom1.wad  doom1.wad
  > ln -s wads/idgames/doom2.wad  doom2.wad
  > ln -s wads/idgames/doomu.wad  doomu.wad
  > ln -s wads/idgames/plutonia.wad  plutonia.wad
  > ln -s wads/idgames/tnt.wad  tnt.wad
  > ln -s wads/freedoom-iwad-0.7/doom2.wad  freedoom.wad
</pre>
<p>
  If just the pwad files are in a separate directory (such as pwad/),
  then there are no extra steps.
<pre>
  > doomlegacy -file pwad/ANDYDM.WAD
  > doomlegacy -file pwad/Twilight/TWILIGHT.DEH pwad/Twilight/TWILIGHT.WAD
</pre>
  DoomLegacy will use the HOME environment variable, which is usually set by your Linux login, to find your home directory.  It makes a .legacy directory there, where it will keep config.cfg and all your saved games.
  If HOME is not set, DoomLegacy will look for directory
  "/usr/local/games/legacyhome", and if that is not present then will
  use the current directory.  In the HOME directory, it will make a hidden directory, ".legacy",
  within which it will save config and savegames.
<pre>
  Overriding by using the -home and -config switches, examples:
  > doomlegacy -home ~/doomstuff -game plutonia
  > doomlegacy -home ~/doom -config ~/doom/plutconfig.cfg -game plutonia
</pre>
<pre>
  DoomLegacy execution examples:
  > doomlegacy -game tnt
  > doomlegacy -game plutonia -file pwad/pl2/PL2.WAD
  > doomlegacy -iwad freedoom.wad -file new_map13.wad
</pre>
<p>
  Script files can also be used to start DoomLegacy.
<pre>
  create dm8 script file
    #!/bin/sh
    cd /usr/local/games/legacy/
    USER="Shotgun-wizard"
    DOOMWADDIR=wads
    doomlegacy -iwad doom2.wad -file DM8.WAD
 > chmod u+x dm8
 > dm8
</pre>

<p>
<h3>Windows</h3>
<p>
  It is important to change to the directory where doomlegacy resides.  Support files,
  like wads, legacy.wad, autoexec.cfg, and config.cfg, need to be found by DoomLegacy
  and it looks in the current directory as last resort.
<p>
  Put your wad files in directory "\doomwads", or "\games\doomwads", or
  in the current directory.  DoomLegacy will use the first that exists
  as the doomwaddir.  Set DOOMWADDIR in a batch file to specify a different wad directory.
<p>
  A "legacy" directory will be created in your home directory for savegames and saved config files.
  Set the environment variable "HOME" in a batch file, or use the -home switch
  when starting DoomLegacy.
  Otherwise, it will check if the default home directory exists, "\legacyhome".
  If none are present, then it will use the current directory for home, but only if it is not root, "c:\".
<pre>
  Overriding by using the -home and -config switches, examples:
  > doomlegacy -home c:\games\doomsave -game plutonia
  > doomlegacy -home c:\games\doomsave -config c:\games\plutconfig.cfg -game plutonia
</pre>
<p>
  Use the verbose switch -v, and DoomLegacy will print to stderr the directory
  names that it used.  On Win98 this becomes a file named stderr.
  The use of directory names with spaces may fail.
<p>
  It is difficult to start a program under windows and set command line switches.
  Most of the settings that the launcher supported can now be set from menus and the console.
  However the -game, -file, and -config must be set from command line switches.
<p>
  One way is to create shortcuts to doomlegacy.  Specify in the shortcut the command line
  and change starting directory to where the doomlegacy program resides.
<pre>
  Example shortcut for DoomLegacy with plutonia2 wad:
  Shortcut: dl_plut2
    command: doomlegacy -game plutonia -file c:\games\pl2\PL2.WAD
    current directory: c:\games\legacydir
</pre>
<p>
  Another way is to create a batch file for each combination of switches, and run the
  batch file to start doomlegacy.
  Batch file examples (where legacydir, homedir, configdir, and waddir stand for directories that you specify).
<br>
<pre>
  DOOM2.BAT
    cd c:\legacydir\
    doomlegacy -game doom2
</pre>

<pre>
  DM8.BAT
    cd c:\legacydir\
    doomlegacy -iwad waddir\doom2.wad -home c:\homedir\ -config c:\homedir\config8.cfg
</pre>

<pre>
  DM2MOD.BAT
    SET HOME=c:\games\home
    SET DOOMWADDIR=c:\games\wads
    cd c:\games\legacydir
    doomlegacy -game doom2 -file levl9.wad mod2.deh mod8.bex
</pre>



<h3>Windows with launcher</h3>
<p>
  The launcher is no longer actively supported, but older launchers will still work.
  Most of the settings that the launcher supports can now be set from the console.
<p>
  The launcher has some problems with setting home and config directories.
  You will likely have to include <br>
  "-config mydir\config.cfg", and/or "-home homedir" in options.
<ul>
  <li>Unpack the archive to a suitable program directory, like C:\legacy</li>
  <li>Start the Launcher</li>
  <li>Fill in required information about WAD locations and hardware options</li>
  <li>Launch the game!</li>
</ul>

<h3>Environment variables</h3>
<p>
  You can set the following environment variables to
  have additional control over Legacy behavior. None of them are
  required.
</p>
<ul>
  <li>
    The environment variable <b>DOOMWADDIR</b> defines the path where
    the wad files are located. This way you can easily share your wad
    files between different programs.  If it is not defined a default wad
    directory will be checked for existing, and then an alternate directory.
    If none exist, then by default, Legacy looks for wad files in the current directory.
  </li>
  <li>
    The variable <b>USER</b>, containing your username, is used as the
    default value for your player name in multiplayer games.
  </li>
  <li>
    Your home directory is defined by the variable <b>HOME</b>.
    In the home directory DoomLegacy will create a legacy directory to store
    your config and savegame files.
    If this variable is not defined, a default legacy home directory will be
    checked for existing.  If none exist, then by default the current
    directory will be used for home.
  </li>
</ul>


<h3>Setting up the game</h3>
<p>
  Legacy uses a configuration file (config.cfg) to setup the game.
  Your personal control settings are saved in your config.cfg file.
  They can be changed by menus in Legacy, and are saved when quitting
  the game.
<p>
  When config.cfg does not exist, Legacy will write one using a default config.
</p>
<p>
  OpenGL uses a separate file, 'glconfig.cfg', so that the OpenGL
  settings do not disturb an existing config file. This does
  mean that switching to OpenGL requires setting up the controls again.
<p>
  Develop mode (-devgame or -devparm), will use devdataconfig.cfg as its config file.
</p>

  
<h3>Setting up the controls</h3>
<p>
  Setting up the controls, mouse and joystick, video mode etc. is done
  while in the game, using the main game menus: Setup Controls,
  Video Options, Game Options. You can change all game settings
  at any time during the game.
</p>
<p>
  The mouse will be activated by default, to disable it, change
  the 'use_mouse' variable in the console.
  The joystick will not be used as default, set the 'use_joystick'
  variable at the console.
</p>
<p>
  The mouse and joystick sensitivities can be set
  using the console variables, and there is some menu support.
</p>
  

<h3>Setting up the sound</h3>
The binary downloads of DoomLegacy use SDL sound.
The other options require downloading source code and compiling
with your own selection of compile options.
<ul>
<li>SDL
<p>
  In the SDL version of Legacy the SDL library handles sound. If it
  is installed correctly then Legacy will have sound effects.
<p>
  The latest SDL version is 1.2.14, and it fixes some earlier Win32 issues.
<p>
  Music requires SDL_mixer version 1.2.7 or later. Earlier SDL_mixer
  versions do not have a working RWOPS interface. Legacy can play music
  using files instead, but this requires recompiling Legacy, allowing it
  to detect the SDL_mixer version.
<p>
  SDL_mixer is a separate download and installation, and the latest is
  version 1.2.11.
</p>
</li>

<li>WINDOWS
<p>
  In the Windows native version the sound is autodetected using DirectX so make sure your card works
  well with DirectX and then legacy will use it.
<p>
  Additionallym Legacy could utilize hardware 3D sound
  for making more realistic sound environment.
<p>
  Specify -ds3d command line parameter to use generic 3D sound driver
  (DirectSound 3D). This driver are suitable for most 3D sound chips.
<p>
  FMOD is an alternative sound library.  To use FMOD, must compile with
  the FMOD library and FMOD configuration selected.
  FMOD support was incompletely developed, so compilation has not been
  sucessfull. FMOD compilation is disabled by default.
</p>
</li>

<li>DOS
<p>
  The sound and music card is auto-detected at the game startup.
<p>
  If you don't get any sound in Legacy, check that the BLASTER
  variable is set. Type 'set' at the dos prompt (or dosbox under
  Windows) : do you see a line like 'BLASTER=A220 I5 D1 ...' ?
  If not, run the installation of your soundcard for Dos mode,
  it will usually modify your autoexec.bat so that the BLASTER
  variable will be set. See the FAQ.TXT for more.
<p>
  If the BLASTER variable is set, but you still don't hear any
  sounds, or the sounds are not right, then edit the SOUND.CFG
  file, and manually set your type of soundcard, see there for
  more.
</p>
</li>
</ul>  

<h3>Setup Controls menu</h3>
<p>
  You can bind actions to one or two keys, like in all decent games.
  Select an action, press ENTER, and then press the desired key,
  mouse button, or joystick button.

  To CLEAR the keys attached to a control, use the BACKSPACE key.
</p>
<p>
  To setup the DOUBLE CLICK for mouse/joystick buttons: enter the
  click one time, so that it displays, e.g. 'MOUSEBUTTON1'. Then
  re-enter the click a second time, and it will transform into a
  dbl-click, e.g. 'MOUSEBUTTON1' will become 'DOUBLEMOUSE1'.

  You can use double-clicks for any joystick/mouse button, and you
  can attach any action to it.
</p>
<p>
  When controlperkey is "Several", a single key can be set to 
  multiple actions, e.g. go backward and 'use' at the same time.
  Normally when a key is set for an action, other uses of the
  same key are cleared.
</p>


<h3 id=gamma>Gamma controls</h3>
<p>
  The control of gamma is much finer than before. The gamma table is
  now generated from the control settings, instead of using
  four preset gamma tables.
</p>
<p>
  The gamma control functions:
</p>
<ul>
  <li>Gamma: Only has a gamma slider</li>
  <li>Gamma_black: Gamma control and black level control.</li>
  <li>Gamma_bright_black: Gamma control, bright control, and black
    level control.</li>
  <li>Linear: Has bright and black level controls, as two set-points
    of piecewise linear brightness correction. It is included
    for use with LCD displays.</li>
</ul>
<p>
  Controls for gamma function, black level, bright level, and gamma
  are on an options page. The values can also be changed by a
  console set command, or in your personal config.cfg file.
</p>
<div class="code">gammafunc Gamma_bright_black
black -2
gamma 2
bright -1</div>
<p>
  To see the current setting just type the name, without a value.
  Normal levels are black 0, gamma 0.
</p>
<p>
  To set the gamma correction to your preference,
  find a dark area in a wad or use the gamma.wad file
  (i.e. -file gamma.wad).
  Set the black level to give a good looking even gray scale in the
  darkest areas (little gray room in gamma.wad).
  White textures will not go completely to black, but will instead stay
  gray. The software renderer is limited to 32 light levels, so do not try to
  get it perfect in the darkest three gray test strips as it is not
  possible. Instead try to get the gray intervals even. You should be
  able to just barely see an object right in front of you in the darkest
  room, and see white textures across the room as a dark gray patch.
</p>
<p>
  Then go to a normally lit area and adjust gamma to give the
  brightness and evenness of tone that you would expect.
</p>
<p>
  Use the bright control to adjust the brightest outdoor scenes
  after the gamma and black levels are set. Unlike most monitors,
  this bright control actually controls the brightest light levels.
</p>
<p>
  Your preferences may be different. From experiments, trying too
  hard to set a perfect black leads to extreme gamma settings to correct
  for the side effects. It is a compromise, as actual hardware varies,
  and the gamma table equations represent ideal CRT behavior.
  LCD monitor gamma response is even less ideal.
</p>
<p>
  Evenness is usually more important than absolute brightness. The brightness
  appearance is affected greatly by the amount of light over your monitor.
  If the wall textures look harsh, then the gamma is set too high, or
  the black level is set too low.
</p>

<div class="code">
Original Doom gamma settings are at (0, -3, -6, -9, -12).
gamma index : GAMMA value
<dir>
 12: 1.48
 11: 1.44
 10: 1.4
  9: 1.36
  8: 1.32
  7: 1.28
  6: 1.24
  5: 1.2
  4: 1.16
  3: 1.12
  2: 1.08
  1: 1.04
  0: 1.0
 -1: 0.96
 -2: 0.92
 -3: 0.88
 -4: 0.836
 -5: 0.793
 -6: 0.75
 -7: 0.706
 -8: 0.663 
 -9: 0.62
-10: 0.58
-11: 0.54
-12: 0.50
</dir>
</div>

<h2 id="gameplay">BASIC GAMEPLAY</h2>

<h3>Shooting up and down</h3>
<p>
  There's nothing changed, except of course a totally new
  deathmatch experience.
</p>
<p>
  About the BFG: the BFG ball can be fired up or down, but
  the invisible rays that spray from you have always 'autoaim', they're
  not dependent of your up and down aim.
  Let's be clear: apart from being able
  to shoot the BIG BFG BALL up or down, the side-effect of the BFG
  is as before.
</p>
  
<h3>Autoaim toggle</h3>
<p>
  We wanted to keep the compatibility with the traditional Doom gameplay,
  but we needed also to go forward and bring more depth to the
  deathmatches. One of these steps is enabling manual aiming.
</p>
<p>
  You may feel like it's unbalanced if some people use the autoaim,
  as they don't have to make the effort of aiming properly, and others
  don't use it and do their best to aim up and down...
  NEW since Legacy v1.2: with allowautoaim you can
  disable autoaiming, that is, impose manual aim to all players
  in a network game.  Use with caution as you may offend!!
</p>

<h3>Weapon changes</h3>
<p>
  We didn't dare of course change the existing weapons functionality!
  You may appreciate however, the fact that you can remap every
  weapon to any key, in the Setup Controls menu. Since you can map two
  keys per 'control', you can keep the original keys '1'-'8' for the
  weapons, and add a shortcut to your preferred ones. eg: '5' and 'r'
  for rockets.
</p>
  
<h3>New cheats</h3>

<dl>
  <dt>idcd##</dt>
  <dd>
    Similar to the 'idcmus##', but for CD Audio tracks.
    Example: 'idcd02' starts cd track 2.
  </dd>
  <dt>idfly</dt>
  <dd>Fly around levels, using the jump key to gain altitude.</dd>
</dl>

  
<h3>Savegame directories</h3>
<p>
  Legacy allows savegame directories, with up to 99 savegames in each
  directory. This feature can be enabled/disabled by a compile time
  option.
</p>
<p>
  The savegame file names include the level name and play time.
  The savegames also have a human-readable header with this and more
  information, including the command line switches used.
</p>
<p>
  The cursor movement keys are up-arrow, down-arrow, page-up, and page-down.<br/>
  The delete key will delete the selected savegame or directory.<br/>
</p>
<p>
  The savegame menus now include a directory name.
  The directory is selected by moving the cursor up to the directory name,
  and pressing ENTER. The menu will present all the existing directory
  names. The blank directory line is the legacy default directory
  which contains all the directories and savegames.
</p>
<p>
  To create a new directory, move to the directory line, press ENTER,
  type in a new directory name, and press ENTER.
</p>


<h3>OpenGL renderer</h3>
<p>
  Legacy includes two different graphics engines, the old Doom
  software renderer (with many improvements) and an OpenGL-based hardware renderer.
</p>
<p>
  The OpenGL renderer is shinier and has fancier effects than the software one, but
  it does not do everything that the software renderer does.
  It does have coronas, explosion light, and other light effects that the software
  renderer does not do.
<p>
  Some wads rely upon violating wad rules to get trick effects.
  These rely upon tricking the software renderer into not drawing something.
  Using those wads with the OpenGL renderer you will see holes in the floor
  and ceiling, and warning messges about polygons.
<p>
  OpenGL relies upon having video card hardware acceleration.
  This requires that your video card drivers support OpenGL operations.
  Without OpenGL hardware acceleration, SDL will emulate the OpenGL operations
  using software run on your CPU, which is very very slow.
  How well a video card works with OpenGL is dependent upon the drivers.
  It is SDL that interfaces with the video card drivers.
<p>
  Video cards have different levels of hardware acceleration, and rendering speed.
  Activate only as many fancy rendering options as your video card can draw fast.
  Turning off Trilinear and Bilinear filtering can gain speed.
</p>


<h2 id="console">CONSOLE</h2>
<p> 
See <a href="console.html">here</a> for more about the console.
</p>

  
<h2 id="network">NETWORK GAMES (MULTIPLAYER)</h2>
<p>  
  Since Legacy 1.2, the network part of Doom has been totally
  rewritten. It now uses a better transfer method for the packets,
  (which is usually faster), and also implements a basic
  Client/Server model, where some critical game options are
  changeable only by the server in multiplayer games.
</p>
<p>
  Since the network communication is faster, we have upped
  the maximum number of players to 32!
</p>


<h3>Client/server model features</h3>
<p>
  The network code has been totally rewritten, here are the
  main features:
</p>
<ul>
  <li>Players can join in while a game is in progress.
    No need to restart the game to add a new player.</li>
  <li>Up to 32 players in a game.</li>
  <li>
    The speed now depends on the server. If the server loses
    frames, all the other players will experience the slow down.
    Thus, make sure that the server runs smooth for example by using a
    lower resolution graphics mode.
  </li>
  <li>
    The server can kick any player out of the game. The player will
    be returned to the title screen.
  </li>
  <li>
    Consistency failure now only kicks out the player who was not
    'up-to-date', not the others.
  </li>
  <li>
    Critical game variables are sent to all the players when they
    are changed on the server, and only the server can change them.
    Examples are 'allowjump', 'respawnitemtime', 'deathmatch', ...
  </li>
</ul>


<h3>Setting up a network game</h3>
<p>
  A network game can be started either using the commandline
  parameters -server and -connect, or from the multiplayer menu that
  allows you to connect to a server or create one yourself.
</p>
<p>
  Legacy uses the UDP port 5029 only and can accept messages from any
  port so it works perfectly with NAT (Network Address Translation).

  Because the IP of any computer behind the firewall is not routable 
  the server cannot get a usable IP address during player join-game.
  If you are familiar with IpAutoforward funtionality of Linux,
  you can make a usable IP appear.
</p>

<p>

  * The server types:
  <br>
  <p>Start a server with one of the following server commands.
  One player can play on the server itself. Other switches can also be
  included to select the game and wad.
<br><br>

  &gt; doomlegacy -server &lt;num-of-computers&gt;<br>

  <p>The server will wait until the specified number of computers have
  connected and then will start the game. This is like the old way to
  start a game. It is more fair because all players start at the same
  time and with the same weapons. Of course other computers can also
  join later.
  <br>
  <br>

  &gt; doomlegacy -server <br>
  <p>This starts the server and does not wait for any computers.
  It starts the game immediately. Other players can join later.
  <br>

  
  <br>
  <br>
  <p>* Clients are the other players who join in the server:<br>
  <p>Each additional player connects to the server with one of the following
   connect commands.
<br><br>
  &gt; doomlegacy -connect &lt;ip address of server&gt;<br>
  <p>Connects to a specific server computer using their ip address.

  <br><br>

  &gt; doomlegacy -connect<br>
  <p>This will auto-detect a server on a LAN. This only works when
  computers are directly connected. If you play through internet,
  the server can NOT be auto-detected, and you must specify it's
  IP address.
<br>
<br>
  
  Example A, 3 players on a LAN:<br>
<br>
  player 1 (the server)<br>
  &gt; doomlegacy -server 3<br>
<br>
  player 2 (client)<br>
  &gt; doomlegacy -connect<br>
<br>
  player 3 (client)<br>
  &gt; doomlegacy -connect<br>
<br>
  Example B, 2 players, through internet:<br>
<br>
  player 1 (the server)<br>
  &gt; doomlegacy -server 2<br>
<br>
  player 2 (client)<br>
  &gt; doomlegacy -connect xxx.xxx.xxx.xxx<br>
<br>
  Example C, a 3 player game, with _TWO_ computers, one is split-screen:<br>
<br>
  player 1 (the server)<br>
  &gt; doomlegacy -server 3<br>
<br>
  player 2 and 3 (2 clients on the same computer)<br>
  &gt; doomlegacy -splitscreen -connect<br>
<br>
  
  <p>You don't need to put all parameters on the client side like :
  -deathmatch, -warp xx, -respawn, -fast, etc because the server
  automatically sends those to all clients upon connection.

  <p>Also the -file parameter is not needed by the player anymore. The server
  will send the file needed to the client. Let's say rather the client
  can download it from the server. But of course the client will first
  check for the file in the directory or subdirectory.

  <p>Use '-notime' to disable file date check on clients. Normally
  the game will warn you if a client has a file loaded by the
  server, but with a different date. Clients should have the exact
  same version of the files added by the server.

  <p>You want to know some things : you need a good ping value, perfect
  is less than 30, more than this will be very unplayable, because
  there is not, for the moment, code to reduce the latency between
  command entered at keyboard and command execution.

  <p>In other words, Doom Legacy doesn't use 'interpolation' to make
  you believe like the game is 'smooth' when it is not in reality.
</p>
  

<h3>Multiplayer intermission screen</h3>

<ul>
  <li>FRAGS: the usual frags rankings</li>
  <li>
  BUCHHOLZ: a chess scoring system. You earn more points
  when you frag a good player (one that has a lot of frags at the end
  of the game).
  This is more balanced that the original frags system, because
  you can't get a good score simply by slaughtering clueless newbies.
<p>
  If player i has fragged player j F[i][j] times,
  the total frags of player i are given by T[i] = sum_j F[i][j].
  The Buchholz score of player i is sum_j F[i][j] * T[j].
</p>
  </li>
  <li>
  INDIVIDUAL: the players are all compared 1 to 1, when a
  player wins he earns 3 points, if they draw they each
  get 1 point. Then all the points are added and the
  winner is the one with the most points. This was
  suggested by Cristian Romero (romero-c@usa.net).
  Is is not perfect, but is already interesting enough:
  think of it more 'individual'. You have to make more frags
  compared to each other player to earn points. So you will
  want to go after players that you can make more frags, and
  forget about the ones which have already too much frags
  compared to you. Go for the victories, more than the frags.
  </li>
  <li>DEATHS: this ranking shows the players who have died the most!</li>
</ul>

  
<h2 id="cmdline">COMMANDLINE OPTIONS</h2>

<p>Here are the command-line options Legacy recognizes:</p>

<p>
FIXME console commands cd, gr_stats, nodownload consvar
FIXME video mode lists, window caption, cv_fullscreen..
</p>

<table class="def">
<tr><th>option</th><th>description</th></tr>

<tr><td class="note" colspan="2">
Config options
</td></tr>

<tr>
<td>+&lt;console expression&gt;</td>
<td>You can enter any number of <a href="console.html">console expressions</a> at the command line.<br/>
They will be executed right after the configfile, but before autoexec.cfg.</td>
</tr>


<tr>
<td>-home &lt;dirname&gt;</td>
<td>Set your home directory location, where your configfiles and
savegames are kept.</td>
</tr>

<tr>
<td id="config">-config &lt;filename&gt;</td>
<td>Set the configfile to use. Default: config.cfg.</td>
</tr>

<tr>
<td id="mb">-mb &lt;number&gt;</td>
<td>The amount (in MiB) of memory that Legacy allocates for ZALLOC.
<p>
  Otherwise the default of 24 to 80 MiB is used.
  This and the MIN and MAX limits are set by compile time options.
</p>
<p>
  This sets the number of megabytes of memory to allocate to ZALLOC at
  Doom startup. ZALLOC is used for saving the directories, textures,
  and other lumps of the wad files. Executable and stack use other
  memory.
</p>
<p>
  If the amount of requested memory is not available, then it will try for
  half of what is free.
  There are several compile time options for ZALLOC memory allocation,
  the updated Zone allocation, automatic growing Zone allocation,
  and simple and tagged malloc allocations.
</p>
<p>
  The default memory allocator, GROW_ZONE, will grow the memory allocation
  when needed.
  It is no longer critical to set enough memory on the command line,
  although it may make loading smoother.
</td>
</tr>

<tr>
<td>-noversioncheck</td>
<td>Do not check that legacy.wad version matches the executable version.</td>
</tr>

<tr>
<td>-cdrom</td>
<td>Execute from CDROM.  Overrides DOOMWADDIR, and the legacy home
directory settings.</td>
</tr>

<tr>
<td>-lang &lt;name&gt;</td>
<td>Load the BEX language file name.  If the name is not specified, then
the file "lang" will be tried.  The language file uses BEX to change
some game text.  An example french.bex is available.
</td>
</tr>

<tr><td class="note" colspan="2">
Game options
</td></tr>

<tr>
  <td>-game &lt;game-name&gt;</td>
<td>
  Forces a particular game mode to be used. This replaces renaming
  the wad file. If an IWAD is not explicitly given, the appropriate
  IWAD will be automatically loaded.

  The valid game-name at this time are:
<table class="def">
<tr><th>game-name</th><th>mode</th></tr>
<tr><td>doom, doommode</td><td>Doom1</td></tr>
<tr><td>freedu, doomu, ultimode</td><td>Ultimate Doom</td></tr>
<tr><td>freedoom, freedm, doom2, plutonia, tnt</td><td>Doom2</td></tr>
<tr><td>blasphem, heretic, heremode</td><td>Heretic</td></tr>
<tr><td>heretic1</td><td>Heretic shareware</td></tr>
<tr><td>chex1</td><td>Chexquest</td></tr>

<tr><td class="note" colspan="2">
The following are valid game-names, but the mode is not supported yet.
</td></tr>
<tr><td>hexen, hexemode</td><td>Hexen</td></tr>
<tr><td>hexen1</td><td>Hexen demo</td></tr>
<tr><td>strife</td><td>Strife</td></tr>
<tr><td>strife0</td><td>Strife demo</td></tr>
</table>
  Savegames are now marked with the game name, and will not load
  with a different game name.
</td>
</tr>


<tr>
<td>-iwad &lt;filename&gt;</td>
<td>Set the main IWAD file to use. This also determines the game mode when
-game is not used.</td>
</tr>

<tr>
<td id="file">-file &lt;filename1&gt; [&lt;filename2&gt;...]</td>
<td>Load one or more additional PWAD or DeHackEd files, possibly
  replacing some of the IWAD data.
</td>
</tr>

<tr>
<td id="file">-deh &lt;filename1&gt; [&lt;filename2&gt;...]</td>
<td>Load one or more DEH (DeHackEd) files or BEX files, which can change
  monster abilities and game text.  Also accepts -dehacked.
</td>
</tr>

<tr>
<td>-loadgame &lt;num&gt;</td>
<td>Load savegame by number.  This can only access the main savegame directory.
Other command line options must set up the correct game and files.</td>
</tr>

<tr>
<td>-skill &lt;1-5&gt;</td>
<td>Select the skill level, start game immediately.</td>
</tr>

<tr>
<td>-episode &lt;number&gt;</td>
<td>Select the episode, start game immediately.</td>
</tr>

<tr>
<td>-warp &lt;number&gt; [&lt;number&gt;]</td>
<td>Select the map, start game immediately.  In DoomII, -warp 13 will
goto map13.
In Ultimate Doom, -warp 1 3 will goto Episode 1, level 3.</td>
</tr>

<tr>
<td>-nomonsters</td>
<td>No monsters in the game started from the command line.
Does not affect games started from the menus.</td>
</tr>

<tr>
<td>-respawn</td>
<td>Respawn monsters when they are killed, in the game started from the command line.
Does not affect games started from the menus.</td>
</tr>

<tr>
<td>-coopmonsters</td>
<td>Monsters cooperate in the game started from the command line.
Does not affect games started from the menus.  Monsters do not damage
each other.  Conflict with monster infight.</td>
</tr>

<tr>
<td>-infight</td>
<td>Monsters fight each other in the game started from the command line.
Does not affect games started from the menus.  Monsters do not damage
each other.  Conflict with coopmonsters.</td>
</tr>

<tr>
<td>-fast</td>
<td>Monsters move faster and shoot quicker in the game started by
Warp or Episode.
Does not affect games started from the menus.
</td>
</tr>

<tr>
<td>-predicting</td>
<td>Monsters aim at moving players better in the game started by
Warp or Episode.
Does not affect games started from the menus.
</td>
</tr>

<tr>
<td>-turbo &lt;10-255&gt;</td>
<td>Altered player speed in percent (slower or faster).  Add or
decrease difficulty, or compensate for system controls.</td>
</tr>

<tr>
<td>-noresetplayers</td>
<td>Do not reset players, same as the transition to the next map.
This keeps the existing player stats.
</td>
</tr>


<tr><td class="note" colspan="2">
Video options
</td></tr>

<tr>
<td>-width &lt;xxx&gt;<br/>
  -height &lt;yyy&gt;
</td>
<td>
  If you like pain, you can set the screen size at the
  command line instead of using the 'Video Mode' menu.
  Legacy will switch to 320x200 if it can't find a
  corresponding mode.
</td>
</tr>

<tr>
<td>-highcolor</td>
<td>Request a 15 bpp or 16 bpp video mode.  If that fails, it will try 8
bpp modes.</td>
</tr>

<tr>
<td>-truecolor</td>
<td>Request a 24 bpp or 32 bpp video mode.  If that fails, it will try 8
bpp modes.</td>
</tr>

<tr>
<td>-native</td>
<td>Request use of a native bpp video mode, based on what video
mode is being used when the program starts.  If that fails, it will try
8 bpp modes.  On most modern systems, native is 32 bpp.</td>
</tr>

<tr>
<td>-bpp &lt;number&gt;</td>
<td>Select video mode bpp (8,15,16,24,32) explicitly.  If that fails,
the program will exit.</td>
</tr>

<tr>
<td>-win</td>
<td>Only allow windows video modes, ignoring DirectDraw video modes.
For WIN32 port.</td>
</tr>

<tr>
<td>-opengl</td>
<td>Hardware accelerated rendering using the OpenGL library.
Will use hardware acceleration for OpenGL if available.
If the video card does not have OpenGL hardware acceleration then it will
use the OpenGL emulation in software, which is very slow.
OpenGL is the most actively supported hardware acceleration.
For SDL, Linux-X11-XSHM, MACOS, and WIN32 ports.
MiniGL is a subset library of the OpenGL standard for WIN32 and will use the
minigl.dll instead.
Requires compiling with the OpenGL library and configuration.
Default: use the software renderer.
</td>
</tr>

<tr>
<td>-minigl</td>
<td>Hardware accelerated rendering using the MiniGL library.
MiniGL is a library of the OpenGL standard for WIN32 and will use the
minigl.dll instead.
For WIN32 port.
Requires compiling with the MiniGL library and configuration.
</td>
</tr>

<tr>
<td>-3dfx<br>-glide</td>
<td>Hardware accelerated rendering using the Glide library for the Voodoo card.
For Linux-X11-XSHM, Linux-X11-GGI, and WIN32 ports.
Requires compiling with the Glide library and configuration.
</td>
</tr>

<tr>
<td>-winvoodoo</td>
<td>OpenGL parameter for voodoo card on Linux-X11-XSHM.
If MESA_GLX_FX is not set as an environment variable,
it selects window video modes with "MESA_GLX_FX=window",
(default is fullscreen).
It also prevents grabbing the mouse.
For Linux-X11-XSHM port.
Requires compiling with the XSHM library, MESA library, and configuration.
</td>
</tr>

<tr>
<td>-d3d</td>
<td>Hardware accelerated rendering using Direct3d library for Windows.
Requires compiling with the Direct3d library and configuration.
For WIN32 port.</td>
</tr>

<tr>
<td>-left</td>
<td>Start a drone client that displays the left view of three screens.</td>
</tr>

<tr>
<td>-right</td>
<td>Start a drone client that displays the right view of three screens.</td>
</tr>

<tr>
<td>-screendeg &lt;angle&gt;</td>
<td>Start a drone client that displays with an angle offset.  Useful for
setting up left and right screens.  The angle is in degees, but cannot
be negative (command line limitation).
For left angles input the value of (360-num) instead,
such as 270 for -90 degrees, 315 for -45 degrees, 340 for -20 degrees.
Limited to range 270 to 0 to 90 degrees.
</td>
</tr>

<tr>
<td>-polypoolsize &lt;num&gt;</td>
<td>Specify the size of the polygon pool for hardware rendering, in KiB.
The default is 1000 KiB.
Requires compilation without ZPLANALLOC compile option.
The ZPLANALLOC option allocates such poly without using a pool, and is
the default in the compilation.
</td>
</tr>

<tr>
<td>-display &lt;name&gt;</td>
<td>Specify the X11 display to use for the game, by name.
The default is the current display device.
For Linux-X11-XSHM port.
</td>
</tr>

<td>-noendtext</td>
<td>Suppress the game EndText screen, which could disrupt some terminal
emulations because of the special character attributes used.  Much of this
problem has been eliminated by interpreting those attributes for each port.
For SDL, MACOS, and Linux-X11 ports.
</td>
</tr>

<tr><td class="note" colspan="2">
Sound and music options
</td></tr>

<tr>
<td>-nosound</td>
<td>Disable all sound effects (including music). The sound effects
volume config var also affects sound.</td>
</tr>

<tr>
<td>-nomusic</td>
<td>Disable music.  The music volume config var also affects music.</td>
</tr>

<tr>
<td>-nocd</td>
<td>Disable CD music.</td>
</tr>

<tr>
<td>-precachesound</td>
<td>Preload sound effects.  Also enabled by the precachesound config var.</td>
</tr>

<tr>
<td>-freq</td>
<td>To set the frequency used by the DirectSound sound buffer.
The default is 22050 Hz.
For WIN32 port.
</td>
</tr>

<tr>
<td>-coopsound</td>
<td>To set DirectSound to be cooperative with other windows applications.
For WIN32 port.
</td>
</tr>

<tr>
<td>-ds3d</td>
<td>Use the DirectSound 3D generic sound driver.
This driver is suitable for most 3D sound chips.
For WIN32 port.
Requires compiling with the HW3SOUND compile option.
</td>
</tr>

<tr>
<td>-sounddriver &lt;driver&gt;</td>
<td>Specify an external hardware sound driver (dll).
For WIN32 port.
Requires compiling with the HW3SOUND compile option.
</td>
</tr>

<tr>
<td>-winmidi &lt;num&gt;</td>
<td>Specify an external midi hardware port device ID.  How to discover
the device IDs is unknown.  The default is -1.
For WIN32 port.
</td>
</tr>


<tr><td class="note" colspan="2">
Input Controller options
</td></tr>

<tr>
<td>-nomouse</td>
<td>Do not use the mouse and skip mouse detection.
For Linux-X11-XSHM, and WIN32 port.
</td>
</tr>

<tr>
<td>-nojoy</td>
<td>Do not use the joysticks and skip joystick detection.
For DOS, and WIN32 port.
</td>
</tr>

<tr>
<td>-nodinput</td>
<td>Get mouse movement from window events instead of
DirectInput polling interface.
For WIN32 port.
</td>
</tr>

<tr>
<td>-gettickcount</td>
<td>Do not use the high precision timer, to avoid a win2k timer bug.
For WIN32 port.
</td>
</tr>


<tr><td class="note" colspan="2">
Networking
</td></tr>

<tr>
<td>-server</td>
<td>Spawn a server.  Allows a player on the server.
</td>
</tr>

<tr>
<td>-dedicated</td>
<td>Spawn a dedicated server, without player.  A dedicated server only
has console commands for setting up the network and games, not those for
the player settings.</td>
</tr>

<tr>
<td>-connect [&lt;IP&gt; | &lt;address&gt;]</td>
<td>Connect to a server at the specified address. If no address is
given, search for servers in LAN.</td>
</tr>

<tr>
<td>-ipx</td>
<td>Use IPX network protocol instead of IP.  Must be compiled with
USE_IPX compile option enabled.</td>
</tr>

<tr>
<td>-udpport</td>
<td>Specify the port to use on IPX or IP network.  The default should be 5029.</td>
</tr>

<tr>
<td>-clientport</td>
<td>Specify the port that the client uses on IPX or IP network.
The default is to use the udpport.  This allows running the server and
client using different ports.</td>
</tr>

<tr>
<td>-net</td>
<td>Specify network play in DOS port version.
For DOS port.
</td>
</tr>

<tr>
<td>-doomatic</td>
<td>Specify doomatic network play in DOS port version.
Introduced in version 1.29, it appears to have more advanced network
communications than the vanilla network play.
For DOS port.
Requires doomatic network software.
</td>
</tr>

<tr>
<td>-nodownload</td>
<td>Do not download any files from servers.</td>
</tr>

<tr>
<td>-nofiles</td>
<td>Do not check for having any files, download all from servers.</td>
</tr>

<tr>
<td>-extratic &lt;num&gt;</td>
<td>Send extra copies of player movement over the network, to prevent
retransmission.  Normally 1.</td>
</tr>

<tr>
<td>-bandwidth &lt;num&gt;</td>
<td>Set the usable bandwidth of the network, in bytes per second
(1000 to 100000). The default is 3000.
</td>
</tr>

<tr>
<td>-packetsize &lt;num&gt;</td>
<td>Set the usable packetsize for transmissions over the network, in bytes
(75 to the hardware limit). The default is the hardware max packetlength.
</td>
</tr>

<tr>
<td>-debugfile &lt;num&gt;</td>
<td>Writes network debugging information to a file named debug1.txt,
where the 1 is the specified num.
If the num is not specified, the default is the player number.
Will try higher num until it succeeds in opening a file.
Must be compiled with the DEBUGFILE compile option enabled.
</td>
</tr>

<tr><td class="note" colspan="2">
Multiplayer options
</td></tr>
<tr>

<tr>
<td>-deathmatch<br>-altdeath</td>
<td>
Play deathmatch where multiple players fight each other to score kills.
Normal deathmatch has weapons and a few special items respawn,
but altdeath has all items and weapons respawn.
Without -deathmatch or -altdeath, the game will start cooperative where
the players cooperate to fight the monsters.
This can also be selected and customized from the menus.
</td>
</tr>

<tr>
<td>-teamplay<br/>
  -teamskin
</td>
<td>
A variation of -deathmatch that activates team play where teams are
identified by color (-teamplay) or skin (-teamskin).
The color is applied to the player armor using color translation.
A skin is an alternative player sprite, like an orc or mercenary.
The skins must be provided in one or more PWAD.
</td>
</tr>

<tr>
<td>-timer &lt;num&gt;</td>
<td>Timelimit in minutes.</td>
</tr>

<tr>
<td>-avg</td>
<td>Austin 20 min. rounds.  (Austin Virtual Gaming)</td>
</tr>

<tr>
<td>-splitscreen</td>
<td>Two players on this screen.  One player is the top half and the
other is the lower half of the screen.  The controls are selected for
each player from the keyboard, one or two mice, and multiple joysticks.
This may be used alone or with network play.
</td>
</tr>


<tr><td class="note" colspan="2">
Demo options
</td></tr>
<tr>

<tr>
<td>-playdemo &lt;file&gt;</td>
<td>Play the demo from the specified file.</td>
</tr>

<tr>
<td>-record &lt;file&gt;</td>
<td>Record a demo to the specified file.</td>
</tr>

<tr>
<td>-maxdemo &lt;size&gt;</td>
<td>Set the -record demo buffer to the specified size (in KiB).
The default is 20.
Use with -record.</td>
</tr>


<tr><td class="note" colspan="2">
Development options
</td></tr>
<tr>

<tr>
<td>-devparm</td>
<td>Development/debugging mode. Prints out some extra information
  mainly useful for developers, does not grab the mouse.</td>
</tr>

<tr>
  <td>-devgame &lt;game-name&gt;</td>
<td>Development mode using devparm for the specified game, in the same format as -game.
User can include development files from working directories using -file.</td>
</tr>

<tr>
<td>-wart &lt;number&gt; [&lt;number&gt;]</td>
<td>Development modification of warp.  Load the selected map from the
devmaps directory, and warp to it.
In DoomII mode, -wart 13 will load devmaps/cdata/map13.
In Ultimate Doom mode -wart 3 1 will load devmaps/E3M1.</td>
</tr>

<tr>
<td>-timedemo &lt;file&gt;</td>
<td>Play the demo from the specified file while timing it.
</td>
</tr>

<tr>
<td>-nodraw<br></td>
<td>Timedemo option, to get execution time without drawing.
Caution: no visible display so you must exit the game from memory (ESC, Q, RETURN, Y).
</td>
</tr>

<tr>
<td>-noblit</td>
<td>TimeDemo option, to get execution time without blit.  Currently,
none of the draw ports honor this test.
</td>
</tr>

<tr>
<td>+connect<br/>+map</td>
<td>Options on -server.
The actual usages of these have been lost.
The "+connect" option will enable some server code, but is not same as -connect.
The "+map" option will issue a map command to change to the start map.
Example: -server+connect+map
</td>
</tr>


<tr><td class="note" colspan="2">
Information
</td></tr>
<tr>

<td>--help</td>
<td>Help menu giving help sections.</td>
</tr>

<tr>
<td>-h &lt;section&gt;</td>
<td>Display one of the Help sections:<br>
<table class="def">
<tr><th>section</th><th>content</th></tr>
<tr><td>g</td><td>Help on game and wads</td></tr>
<tr><td>m</td><td>Help on multiplayer</td></tr>
<tr><td>c</td><td>Help on config</td></tr>
<tr><td>s</td><td>Help on server</td></tr>
<tr><td>d</td><td>Help on demo</td></tr>
<tr><td>D</td><td>Help on Devmode</td></tr>
</table>
</td>
</tr>

<td>-v</td>
<td>Verbose.  Print more information about warnings, wad errors, and the
progression of startup and shutdown.</td>
</tr>

<td>-v2</td>
<td>Very Verbose.  Print detailed information about the video system,
modes available and how the mode selection is handled.</td>
</tr>

</table>


<h2 id="notes">NOTES</h2>

  
<h3>DeHackEd patches</h3>
<p>  
  Doom Legacy supports dehacked patches directly, without having to
  patch the executable.  The original DeHackEd was an editor that would
  patch the Doom executable to change strings and monster behaviors.
  Doom Legacy will alter its own strings and monster behaviors to get
  similar, or better results.
</p>
<p>
  As of version 1.44, Legacy allows multiple changes to the same string.
  Later changes to a string will work, even when Legacy changes,
  language changes, Chex mode changes, or other deh files,
  have already changed the string.
</p>
<p>
  You can specify multiple .deh files using the -file option, and they
  will all be executed, in the order you have given them.
  Also, since version 1.30, Legacy will look for a lump named DEHACKED
  in each wad file and treat the contents as a dehacked patch.
</p>
<p>  
  We don't check for the dehacked patch version, we added support for the
  patches version 6, it should run ok with (not too) old patches.
  If you have a problem with the version of the patch, try to convert it.
  Just load the .deh file into a recent version of Dehacked (3.0),
  and then save it again. It will then be saved as a text-file, that
  Legacy will be able to use.
</p>
<p>
  All text changes are supported, you can edit the .deh manually and
  replace strings by larger strings than the original Doom, it works.
  Sprite renaming works too, well, pretty much anything works :)
</p>

<h3>BEX patches</h3>
<p>  
  Doom Legacy supports BEX, which is similar to dehacked but references
  changable attributes by a BEX name.
  BEX has more functionality and is more consise than DeHackEd.
  A BEX file can be provided using -file or -deh, and BEX can be in
  the DEHACKED lump.
  BEX is processed when BEX section names are encountered
  ("[STRINGS]", "[PARS]", "[CODEPTR]"), and will also handle INCLUDE.
</div>
</body>
</html>
